(this.webpackJsonptest_project=this.webpackJsonptest_project||[]).push([[0],{37:function(e,t,a){},38:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(30),o=a.n(c),s=a(6),i=a(16),d="ADD_ITEM",l="UPDATE_COUNT_ITEM",p=function(e,t,a,n){return{type:d,key:e,name:t,price:a,image:n}},b=function(){for(var e=O.getState().basket.map((function(e){return e.totalPrice})),t=0,a=0;a<e.length;a++)t+=e[a];return t},u=function(e,t){switch(t.type){case d:return Object(i.a)(e.some((function(e){return e.key===t.key}))?Object(i.a)(e.map((function(e){return e.key===t.key?Object(s.a)(Object(s.a)({},e),{},{count:e.count+=1,totalPrice:e.price*e.count}):e}))):[].concat(Object(i.a)(e),[{key:t.key,name:t.name,price:t.price,image:t.image,count:1,totalPrice:t.price}]));case l:return e.filter((function(e){return e.key!==t.key||e.count+t.change>0})).map((function(e){if(e.key===t.key){var a=e.count+t.change;return Object(s.a)(Object(s.a)({},e),{},{count:a,totalPrice:a*e.price})}return e}));default:return e}},m="ADD_CARD_INFO",g="CHANGE_NUMBER",j=["408396","220488","406372","400079","220022","412776","401173","437772","403780","431854","410323","220001","403184","418384","220006","413047","411676","220003","402107","415025","400812"],h=0,f=function(e,t){switch(t.type){case m:return{formBackgroundColor:t.formBackgroundColor,formTextColor:t.formTextColor,borderColor:t.borderColor,formBorderColor:t.formBorderColor,bankLogoDisplay:t.bankLogoDisplay,bankLogoSrc:t.bankLogoSrc,brandLogoDisplay:t.brandLogoDisplay,brandLogoSrc:t.brandLogoSrc,numbers:t.numbers};case g:return h=(h+1)%j.length,Object(s.a)(Object(s.a)({},e),{},{numbers:j[h]});default:return e}},_={_state:{products:[{name:"Item1",price:101,image:"https://via.placeholder.com/200x120",key:1},{name:"Item2",price:102,image:"https://via.placeholder.com/200x120",key:2},{name:"Item3",price:103,image:"https://via.placeholder.com/200x120",key:3},{name:"Item4",price:104,image:"https://via.placeholder.com/200x120",key:4},{name:"Item5",price:105,image:"https://via.placeholder.com/200x120",key:5},{name:"Item6",price:100,image:"https://via.placeholder.com/200x120",key:6}],basket:[],cardInfo:{formBackgroundColor:null,formTextColor:null,borderColor:null,formBorderColor:null,bankLogoDisplay:null,bankLogoSrc:null,brandLogoDisplay:null,brandLogoSrc:null,numbers:"408396"}},getState:function(){return this._state},rerenderPage:function(e){this.rerenderEntireTree=e},dispatch:function(e){this._state.basket=u(this._state.basket,e),this._state.cardInfo=f(this._state.cardInfo,e),this.rerenderEntireTree(this._state)}};window.store=_;var O=_,x=(a(37),a(38),a(10)),k=a(2),C=a(12),y=a(13),v=a(15),S=a(14),P=a(0);var N=function(e){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{className:"fistPage__basket",children:Object(P.jsx)(x.b,{className:"btn btn--blue",to:"/second_page",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"})}),Object(P.jsx)("div",{className:"fistPage__products",children:e.products})]})},I=function(e){Object(v.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(C.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).addItem=function(t,a,n,r){e.props.dispatch(p(t,a,n,r))},e.buildItemCard=function(t){if(0!==t.length)return t.map((function(t){return Object(P.jsxs)("div",{className:"fistPage__item",children:[Object(P.jsx)("img",{src:t.image,alt:t.name+"_image",className:"fistPage__item-img"}),Object(P.jsx)("p",{className:"fistPage__item-name",children:t.name}),Object(P.jsx)("p",{className:"fistPage__item-price",children:"".concat(t.price," $")}),Object(P.jsx)("button",{onClick:function(){return e.addItem(t.key,t.name,t.price,t.image)},className:"btn btn--red btn--small btn--rounded",children:"Add to card"})]},t.key)}))},e}return Object(y.a)(a,[{key:"render",value:function(){return Object(P.jsx)(N,{products:this.buildItemCard(this.props.appState.products)})}}]),a}(r.a.Component);var B=function(e){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{className:"secondPage__buttonBack",children:Object(P.jsx)(x.b,{to:"/",className:"btn--rounded btn btn--small btn--blue",children:"Back"})}),Object(P.jsxs)("div",{className:"secondPage__wrapper",children:[Object(P.jsxs)("div",{className:"secondPage__cards",children:[Object(P.jsxs)("div",{className:"secondPage__front secondPage__card",style:{background:e.appState.cardInfo.formBackgroundColor,color:e.appState.cardInfo.formTextColor,borderColor:e.appState.cardInfo.formBorderColor},children:[Object(P.jsx)("img",{src:e.appState.cardInfo.bankLogoSrc,style:{display:e.appState.cardInfo.bankLogoDisplay},className:"secondPage__bank-logo",alt:"Bank_logo"}),Object(P.jsx)("img",{src:e.appState.cardInfo.brandLogoSrc,style:{display:e.appState.cardInfo.brandLogoDisplay},className:"secondPage__brand-logo",alt:"Brand_logo"}),Object(P.jsxs)("div",{className:"secondPage__fields",children:[Object(P.jsx)("input",{onChange:function(t){e.getCardContainer(t.currentTarget.value)},className:"secondPage__field secondPage__number",type:"text",placeholder:"0000 0000 0000 0000",value:e.appState.cardInfo.numbers}),Object(P.jsx)("label",{className:"secondPage__label",children:"Valid thru"}),Object(P.jsx)("input",{className:"secondPage__field secondPage__expired",style:{borderColor:e.appState.cardInfo.formBorderColor},type:"text",placeholder:"MM"}),Object(P.jsx)("input",{className:"secondPage__field secondPage__expired",style:{borderColor:e.appState.cardInfo.formBorderColor},type:"text",placeholder:"YY"})]})]}),Object(P.jsxs)("div",{className:"secondPage__back secondPage__card",children:[Object(P.jsx)("input",{className:"secondPage__field secondPage__code",style:{borderColor:e.appState.cardInfo.formBorderColor},type:"password"}),Object(P.jsx)("label",{className:"secondPage__label",children:"Safety code"})]})]}),Object(P.jsx)("p",{children:Object(P.jsx)("button",{onClick:function(){e.dispatch({type:g})},className:"btn--rounded btn btn--red",children:"Next card number"})})]}),Object(P.jsxs)("div",{className:"secondPage__basket",children:[e.itemCards,Object(P.jsxs)("div",{className:"secondPage__basket-bottom",children:[Object(P.jsxs)("div",{className:"secondPage__basket-totalPrice",children:["Total Price: ",b(),"$"]}),Object(P.jsx)("button",{className:"btn--rounded btn btn--blue",children:"Buy"})]})]})]})},L=a(32),D=L.create({baseURL:"https://api.cardinfo.online"}),T=function(e,t){var a=e.slice(0,6);return D.get("?apiKey=".concat("20212faa7084e4ae54a37bc2f4163bd8","&input=").concat(a)).then((function(e){return e.data})).then((function(e){var n=e.formBackgroundColor,r=e.formTextColor,c=e.formBorderColor,o=e.formBorderColor,s=e.formBankLogoBigSvg?"block":"none",i=e.formBankLogoBigSvg,d=e.formBrandLogoSvg||e.brandLogoOriginalSvg?"block":"none",l=e.formBrandLogoSvg||e.brandLogoOriginalSvg;t(function(e,t,a,n,r,c,o,s,i){return{type:m,formBackgroundColor:e,formTextColor:t,borderColor:a,formBorderColor:n,bankLogoDisplay:r,bankLogoSrc:c,brandLogoDisplay:o,brandLogoSrc:s,numbers:i}}(n,r,c,o,s,i,d,l,a))})).catch((function(e){console.error(e)}))},w=function(e){Object(v.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(C.a)(this,a),(n=t.call(this,e)).getCardContainer=function(e){T(e,n.props.dispatch),n.setState(Object(s.a)(Object(s.a)({},n.state),{},{currentValue:e}))},n.changeCount=function(e,t){n.props.dispatch(function(e,t){return{type:l,key:e,change:t}}(e,t))},n.creatorCardItems=function(e){return e.map((function(e){return Object(P.jsxs)("div",{className:"secondPage__item",children:[Object(P.jsx)("div",{className:"secondPage__name",children:e.name}),Object(P.jsxs)("div",{className:"secondPage__itemCount",children:[Object(P.jsx)("span",{onClick:function(){return n.changeCount(e.key,-1)},className:"btn btn--small btn--red",style:{marginRight:".5rem"},children:"-"}),Object(P.jsx)("span",{className:"btn btn--small btn--rounded",style:{marginRight:".5rem",width:"3rem"},children:e.count}),Object(P.jsx)("span",{onClick:function(){return n.changeCount(e.key,1)},className:"btn btn--small btn--blue",children:"+"})]}),Object(P.jsxs)("div",{className:"secondPage__price",children:[e.totalPrice,"$"]})]})}))},n.state={currentValue:null},n}return Object(y.a)(a,[{key:"componentDidMount",value:function(e){this.getCardContainer(this.props.appState.cardInfo.numbers)}},{key:"componentDidUpdate",value:function(e,t){t.currentValue!==this.props.appState.cardInfo.numbers&&(this.getCardContainer(this.props.appState.cardInfo.numbers),this.setState(Object(s.a)(Object(s.a)({},this.state),{},{currentValue:this.props.appState.cardInfo.numbers})))}},{key:"render",value:function(){return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(B,{getCardContainer:this.getCardContainer,itemCards:this.creatorCardItems(this.props.appState.basket),appState:this.props.appState,dispatch:this.props.dispatch})})}}]),a}(r.a.Component);var E=function(e){return Object(P.jsx)(x.a,{children:Object(P.jsxs)("div",{className:"container",children:[Object(P.jsx)(k.a,{exact:!0,path:"/",render:function(){return Object(P.jsx)(I,{appState:e.appState,dispatch:e.dispatch})}}),Object(P.jsx)(k.a,{exact:!0,path:"/second_page",render:function(){return Object(P.jsx)(w,{appState:e.appState,dispatch:e.dispatch})}})]})})},F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,64)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))},A=function(){o.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(E,{appState:O.getState(),dispatch:O.dispatch.bind(O)})}),document.getElementById("root"))};A(O.getState()),O.rerenderPage(A),F()}},[[63,1,2]]]);
//# sourceMappingURL=main.ef82c79e.chunk.js.map